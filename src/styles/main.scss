@import 'blockly/customBlocklyStyles.scss';
@import 'uiElement.scss';

$defaultBorderSize: 3px;
$textColor: #CCCCCC;
$defaultBorderColor: #474747;

*{
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
}

html,body{
    width: 100%;
    height: 100%;
}

body{
    color: $textColor;
    display: flex;
    background: #252526;

}

// Whats visible most of the time.
// Stuff like popups etc. goes outside of this
#content{
    display: flex;
    flex-grow: 1;
}

// Area where most of the work is done.
// Contains the blockly-workspace and the info-icon
#mainArea{
    display: flex;
    flex-grow: 1;
    height:100%;
    flex-direction: column;
    
    // Blockly-workspace
    #blocklyDiv{
        flex-grow: 1;
        user-select: none;
    }

    // Info-icons
    #infobar{
        border-top: $defaultBorderSize solid $defaultBorderColor;
        max-width: 100%;
        white-space: nowrap;
        position: relative;
        height: 30px;
        overflow: hidden;

        .wrapper{
            position: absolute;
            font-size: 15px;
            align-items: center;
            width:100%;
            height:100%;
            display: flex;
            
            span{
                flex-grow: 1;
                text-align: center;
                text-overflow: ellipsis;
                overflow: hidden;

                /*Default color is info-color*/

                &.error{
                    color: rgb(255, 0, 0);
                }

                &.warn{
                    color: rgb(255, 255, 0);
                }
            }
            
            i{
                margin: 0 10px;
                cursor: pointer;
                border: 1px solid $textColor;
                width: 17px;
                height: 17px;
                text-align: center;
                border-radius: 50%;
            }
        }

    }
}

// The sidebar with the preview and controls
#sidebar{
    display: flex;
    background: #1E1E1E;
    height:100%;
    flex-direction: column;
    width: 0;
    overflow:hidden;

    // Default width, can be changed by js later
    min-width: 250px;

    #preview{
        width: 100%;
        flex-grow: 1;
        position: relative;

        #wrapper{
            position: absolute;
            width: 100%;
            height:100%;
            display: flex;
            flex-direction: column;
            // TODO: Resize svg to not have overflow at all
            overflow: hidden;

            &>.tab{
                width: 100%;
                height:100%;
            }

            #codeTab{
                textarea{
                    width:100%;
                    height: 100%;
                    resize: none;
                    border: none;
                    outline: none;
                    color: white;
                    font-family: monospace;
                    font-size: 1.2rem;
                    padding: 10px;

                    &::placeholder{
                        text-align: center;
                        font-size: 2rem;
                    }
                }
            }
        }

        #previewPicker{
            border-bottom: $defaultBorderSize solid $defaultBorderColor;
            width: 100%;

            #texts{
                visibility: visible;
                display: flex;
                flex-wrap: wrap;
                justify-content: space-evenly;
                
                input{
                    background-color: transparent;
                    border: none;
                    outline: none;
                    color: $textColor;
                    margin: 0 2px;
                    cursor: pointer;
                    padding: 4px 4px;
                    transition: .3s;
                    transition-property: color, text-shadow;
                    font-size: 20px;

                    &:hover, &.select{
                        color: #fff;
                        text-shadow: 0px 0px 10px white;
                        transition: .3s;
                        transition-property: color, text-shadow;
                    }
                }
            }

            #icons{
                visibility: hidden;
                position: absolute;
                display: flex;
                flex-wrap: wrap;
                justify-content: space-around;
                font-size: 30px;
                padding: 5px 0;

                i{
                    cursor: pointer;
                    margin: 2px 4px;


                    &:hover, &.select{
                        color: #fff;
                        text-shadow: 0px 0px 10px white;
                        transition: .3s;
                        transition-property: color, text-shadow;
                    }
                }
            }

            &.hide{

                #texts{
                    visibility: hidden;
                    position: absolute;
                }
    
                #icons{
                    visibility: visible;
                    position: initial;
                }
            }
        }
        
        #simulationPreview{
            flex-grow: 1;

            svg{
                width:100%;
                height:100%;
            }
        }
    }

    #controls{
        position: relative;
        width: 100%;
        height: 200px;
    }
}

// Sliderbar-styles
.sliderbar{

    user-select: none;
    display: inline-block;
    position: relative;
    background: $defaultBorderColor;

    transition: .2s;
    transition-property: background;
    
    &.x{
        width: $defaultBorderSize;
        height: 100%;
        cursor: ew-resize;
    }

    &:active{
        background-color: #007fd4;
        transition: .2s;
    }

    &.y{
        height: $defaultBorderSize;
        width: 100%;
        cursor: ns-resize;
    }
}